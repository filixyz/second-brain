This is the mesh of packet switches and transmission lines that interconnect the internet’s end systems

The are two paradigms in which a network core could build it’s form upon:
1) Packet Switching
2) Circuit Switching

## 1.3.1 Packet Switching
In this paradigm long messages are broken into smaller chunks known as **packets**. Between the source and destination, each packets is sent via series of communication links and packet switches

Packets travel across transmission links at a rate equal to the full transmission rate of that link. So if a source is sending L bits, over a transmission link of R bits per second, then the transfer will be $L/R$  seconds.

### Store and Forward Transmission
Packet switches wait till the entirety of the message to be sent from a serving end systems is buffered (stored in memory) before it can began relaying the message to an outgoing link.

What happens in this case that the packets that make up the messages are all waited for one by one and as they come they are stored in a buffer once all the packets that make up the message have been secured, the message as a whole can now be sent.

This introduces end to end delay per packet sent due to the packet switches waiting on the entirety of the packets that makes up a message to be sent.

### Queuing Delays and Packet Loss
A packet switch has multiple links connected to it and each of those links possess an **output buffer**, now when a packet arrives at a packet switch and demands to reach it’s destination via a link, The packet switch checks that link to see if its free for propagation. If the link is congested handling the transmission of other packets and cannot allow another packet into the link, the packet is placed in the output buffer.

This can incur **queuing delays**. They are variable and depend on the degree of congestion in the network. 

Since buffer space is also and newer packets wanting to partake in transmission might arrive when the output buffer is current full, **packet loss** can occur.

### Forwarding Tables and Routing Protocols
Packet forwarding is different in different computer networks, in this case we describe how it’s done in the internet.

In the internet every end system posses an IP address. And when a packet is to be sent via the internet from an source end system to a destination, the packet headers contains the destinations IP address. As the packet arrives at the packet switch the packet switch examines that packets headers for information pertaining to the address of the destination of the packet, It takes that information and searches its **Forwarding Table** , which contains information that maps the packet switches outgoing links to the destination information gotten from the packet-to-be-sent header, once the appropriate route is mapped out the packet switch forward the packet to the resulting adjacent packet switch or outgoing link which repeats the same process until the packets destination is reached.

The internet posses special **routing protocols** that are used to automatically set forwarding tables.

## 1.3.2 Circuit Switching
In Circuit switched networks, the resources needed along a path in the relay of messages from its source end system to its target end system (the buffers, transmission line etc.) are reserved for each instance of exchange, unlike packet switches.

When a network establishes a **circuit**, its also reserves a constant transmission rate in the networks link for the duration of the connection, This enforces a guaranteed constant transmission rate.

When to hosts want to communicate in a circuit an **end-to-end connection** is established.

### Multiplexing in Circuit Switched Networks
A circuit in a link is implemented in either:
1) **Frequency-division multiplexing (FDM)**
2) **Time-Division multiplexing (TDM)** 

In FDM, connections in a link are divided into channels of specific frequency band. So a specific connection operates at its frequency band for the duration of the connection.
The width of this band is known as its **bandwidth**. Fm radios use FDM to shared to share the frequency spectrum, with each station being allocated a specific frequency band.

In TDM links, time is divided into frames of a fixed duration and each frame is divided into a fixed number of time slots. When a connection is established in this pattern, The Network dedicates one time slot available for use (in every frame) to transmit the connections data.

The Transmission rate in TDM is equal to the the frame rate multiplied by the number of bits in a slot. example if a link transmit 8000 frames per second and a slot consists of 8bits, then the transmission rate is 64kbps.

Proponents of packet switching argue that circuit switching is wasteful because the dedicated circuits (which implicitly enforce faithfulness to one and only one connection) are idle during **silent periods**.

### Packet Switching versus Circuit Switching
Circuit switching pre-allocates use of the transmission link regardless of demand, which can be highly wasteful as unneeded link time going unused.

While Packet switching on the other hand, allocates link use on demand. Link transmission capacity will be shared on a packet-by-packet among user who have packets that need to be transmitted over the link.

Packet switching is considered more effective that circuit switching.

## 1.4.1 Delay, Loss and Throughput in Packet switched Networks
As packets traverse its path from its source end system to its destination end system it experiences a series of delays at each node of its network, The most important of this delays are the:
1) Nodal processing delay
2) Queuing delay
3) Transmission delay and
4) Propagation delay
Together all this delay give the total nodal delay.

### Types of Delay

![Nodal Delay](imgs/Nodal%20Delay.png)

### Processing Delay
The time required to examine the packets header and determine where to direct the packet is part of the processing delay, It can also incur extra delays from error checking in the packets bits. After this nodal processing the router directs the packet to the queue of the outgoing link it intends to travel through.

### Queuing Delay
At the queue it experience queuing delay as it waits to be transmitted onto the outgoing link. The length of the queuing delay depends on the level of congestion in the queue. If the queue is empty meaning there are no other packets waiting to be transmitted, then our packets queuing delay will be zero.

### Transmission Delay
Assuming that packets are transmitted in a first come first served manner, our packet can only be transmitted only after all packets that arrived before its has been transmitted. Transmission delay is the ration of the length of the packet to be transmitted $L$ to the transmission rate of the link intended to be transmitted upon $R$, ergo transmission delay is $L/R$. 

This is the amount of time required to push all of the packets bits into the link.

### Propagation Delay
Once a bit is pushed into the link, it needs to propagate to its destination router. The time taken for it to propagate from the beginning of the link to the destination router is the propagation delay. 

Bit propagation happens at the propagation speed of the link, this depends on the physical medium of the link (that is fiber optics, twisted pair copper wire etc)

Propagation delay is the distance between to routers divided by its propagation speed. $d/s$ ; where $d$ is the distance and $s$ is the speed.

### Comparing Transmission and Propagation Delay
The difference is subtle but veridical.

Transmission delay is the amount of time required for a router to push out a packet; it is a function of the packets length and the transmission rate of the link, but has nothing to do with the distance between two routers.

Propagation Delay on the other hand is the time its takes a bit to propagate from one router to the next; it is a function of the distance between the two routers, but has nothing to do with the packets length or transmission rate of the link.

### Total Nodal Delay
$$
d.nodal = d.processing + d.queue + d.transmission + d.propagation
$$

## 1.4.2 Queuing Delay and Packet Loss
in The midst of all other types of delays that a packet experiences in a node, the most peculiar one is the queuing delay, some much so its a popular research topic in computer science, This peculiarity comes from the fact that in a queue all packets individually experience different degrees of delay, for example the first packet to arrive at the queue essentially experiences no delay but the last packet would face the detrimental delay that comes with have multiple packets arrive before it, each packets having delays that increment with respect to the packet in front of it.

Hence queuing delays are calculated as averages or with some statistical approximation method. 

Say that the average rate at which packet arrive at a queue is  $a$  in units packets/sec, and lets agree that the transmission rate; the rate at which bits are pushed to a link, is $R$ in bits/sec and a packet consists of $L$ bits. With this agreement we can say that:
$$
aL/R
$$
is the **Traffic Intensity** at this switch. A golden rule in Network design is to design systems in which the traffic intensity is no greater than 1.

### Packet Loss
Queuing links typically finite capacity, In reality packet delays do not really approach infinity as the traffic intensity approaches 1, This is because in cases of high traffic when a packet arrives and notices that the queue is full, The router will drop that packet as there is no place for it to be stored, Meaning a packet was just **lost**.

## 1.4.3 End-to-End Delay
Nodal delay which is the delays that occur at a router is quite different from end-to-end delay, which are delays that occurs from the source to it’s destination. 

This delay is typically the summation of all delays that data experiences at each nodes in it’s path to it’s destination. Hence the summation of all processing delays, queuing delays, transmission delay and propagation delay of every node that messages experience on its way from its source to it’s destination.

if we assume that queuing delay is negligible End-to-End delay is:

$$
d_{end-end} = N(d_{proc} + d_{trans} + d_{prop})
$$

### Traceroute
This is a program we can use to determine the round-trip delay in a network path.

### End System, Application and Other Delays
They are other delays that come from end systems themselves, one if this delays is **packetization delay**; this is the delay that comes from filling packets with their needed data before passing the packet onto the internet while sending.

## 1.4.4 Throughput in Computer Networks
This is another performance metric in end-to-end network.

**Instantaneous throughput** is the rate in (bit/sec), at a given time, in which a receiving host receipts a file or message from a serving host, this is basically what download speed is.  

A **Bottleneck link** is a link in the pathway of a network connection that has a transmission rate, with respect to it’s traffic, low enough to effect the aggregate throughput of that connection.